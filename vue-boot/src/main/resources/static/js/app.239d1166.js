(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],m=0,d=[];m<i.length;m++)o=i[m],s[o]&&d.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push(["56d7","chunk-vendors"]),a()})({2856:function(e,t,a){},"47bf":function(e,t,a){},"52a8":function(e,t,a){},5497:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"user",function(){return ie}),a.d(r,"hasBoards",function(){return le}),a.d(r,"personalBoards",function(){return ue}),a.d(r,"teamBoards",function(){return ce});var s={};a.r(s),a.d(s,"getMyData",function(){return ve}),a.d(s,"addTeam",function(){return ge}),a.d(s,"addBoard",function(){return he});a("cadf"),a("551c"),a("097d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],l=(a("3e48"),{name:"App",created:function(){var e=this;this.$bus.$on("myDataFetched",function(t){e.$rt.init(t.settings.realTimeServerUrl,t.user.token)}),this.$bus.$on("user.unauthenticated",function(){e.$router.push({name:"login"})})}}),u=l,c=(a("5c0b"),a("2877")),m=Object(c["a"])(u,o,i,!1,null,null,null);m.options.__file="App.vue";var d=m.exports,f=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"form"},[a("Logo"),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.username.required?e._e():a("div",{staticClass:"error"},[e._v("유저 이름을 입력해야합니다.")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.password.required?e._e():a("div",{staticClass:"error"},[e._v("패스워드를 입력해야합니다.")])]):e._e()]),a("button",{staticClass:"btn btn-outline-warning btn-lg btn-block",attrs:{type:"submit"}},[e._v("Sign in")]),e._m(0)])],1)]),a("PageFooter")],1)},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"links"},[a("p",{staticClass:"sign-up text-muted"},[e._v(" 계정이 없으십니까? "),a("a",{staticClass:"link-sign-up",attrs:{href:"/register"}},[e._v("클릭하세요!")])]),a("p",[a("a",{attrs:{href:"#"}},[e._v("패스워드를 잊어버리셨습니까?")])])])}],h=a("b5ae"),p=a("bc3a"),b=a.n(p),_=a("2ef0"),C=a.n(_),w={parse:function(e){if(e.response){var t=e.response.status,a=e.response.data;return 400===t?a&&a.message?new Error(a.message):new Error("Bad request"):401===t?new Error("Request not authorized."):403===t?new Error("Request forbidden."):404===t?new Error("Request failed. Request endpoint not found on the server."):500===t?a&&a.message?new Error(a.message+" Please try again later."):new Error("There is an error on the server side. Please try again later."):new Error("Request failed. Please try again later.")}return e.request?new Error("Request failed. No response from the server."):C.a.isError(e)?e:new Error(e)}},$={authenticate:function(e){return new Promise(function(t,a){b.a.post("/authentications",e).then(function(e){var a=e.data;t(a)}).catch(function(e){a(w.parse(e))})})}},y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-wrapper"},[a("img",{staticClass:"logo",attrs:{src:"/images/logo.png"}}),a("div",{staticClass:"tagline"},[e._v(e._s(e.$t("logo.tagLine")))])])},P=[],x={name:"Logo"},L=x,k=(a("c34e"),Object(c["a"])(L,y,P,!1,null,"01705b82",null));k.options.__file="Logo.vue";var q=k.exports,N=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",{staticClass:"copyright"},[e._v("© 2020 TaskAgile.com")]),a("ul",{staticClass:"footer-links list-inline float-right"},[a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("About")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("서비스 약관")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("개인정보보호정책")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"https://github.com/taskagile/vuejs.spring-boot.mysql",target:"_blank"}},[e._v("GitHub")])])])])}],B={name:"PageFooter"},R=B,T=(a("d7c7"),Object(c["a"])(R,N,O,!1,null,"4c92eb8a",null));T.options.__file="PageFooter.vue";var E=T.exports,S={name:"LoginPage",data:function(){return{form:{username:"",password:""},errorMessage:""}},components:{Logo:q,PageFooter:E},validations:{form:{username:{required:h["required"]},password:{required:h["required"]}}},methods:{submitForm:function(){var e=this;this.$v.$touch(),this.$v.$invalid||$.authenticate(this.form).then(function(){e.$router.push({name:"home"}),e.$bus.$emit("authenticated")}).catch(function(t){e.errorMessage=t.message})}}},j=S,A=(a("a4fa"),Object(c["a"])(j,v,g,!1,null,"e80f2c58",null));A.options.__file="LoginPage.vue";var M=A.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"register-form"},[e._m(0),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"failed"},[e._v(e._s(e.errorMessage))]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v(" Username ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.username.required?e._e():a("div",{staticClass:"error"},[e._v("이름을 입력해야합니다.")]),e.$v.form.username.alphaNum?e._e():a("div",{staticClass:"error"},[e._v("이름은 글자와 숫자만 가능합니다.")]),e.$v.form.username.minLength?e._e():a("div",{staticClass:"error"},[e._v("이름은 "+e._s(e.$v.form.username.$params.minLength.min)+"자 이상이어야합니다.")]),e.$v.form.username.maxLength?e._e():a("div",{staticClass:"error"},[e._v("이름은 "+e._s(e.$v.form.username.$params.maxLength.max)+"자 이하여야합니다.")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"emailAddress"}},[e._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emailAddress,expression:"form.emailAddress"}],staticClass:"form-control",attrs:{type:"email",id:"emailAddress"},domProps:{value:e.form.emailAddress},on:{input:function(t){t.target.composing||e.$set(e.form,"emailAddress",t.target.value)}}}),e.$v.form.emailAddress.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.emailAddress.required?e._e():a("div",{staticClass:"error"},[e._v("이메일을 입력해야합니다.")]),e.$v.form.emailAddress.email?e._e():a("div",{staticClass:"error"},[e._v("유효한 이메일 주소가 아닙니다.")]),e.$v.form.emailAddress.maxLength?e._e():a("div",{staticClass:"error"},[e._v("이메일 주소는 "+e._s(e.$v.form.emailAddress.$params.maxLength.max)+"자 이하여야합니다.")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstName"}},[e._v(e._s(e.$t("registerPage.form.firstName.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.firstName,expression:"form.firstName"}],staticClass:"form-control",attrs:{type:"text",id:"firstName"},domProps:{value:e.form.firstName},on:{input:function(t){t.target.composing||e.$set(e.form,"firstName",t.target.value)}}}),e.$v.form.firstName.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.firstName.required?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.firstName.required")))]),e.$v.form.firstName.alpha?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.firstName.alpha")))]),e.$v.form.firstName.minLength?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.firstName.minLength",{minLength:e.$v.form.firstName.$params.minLength.min})))]),e.$v.form.firstName.maxLength?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.firstName.maxLength",{maxLength:e.$v.form.firstName.$params.maxLength.max})))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastName"}},[e._v(e._s(e.$t("registerPage.form.lastName.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lastName,expression:"form.lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName"},domProps:{value:e.form.lastName},on:{input:function(t){t.target.composing||e.$set(e.form,"lastName",t.target.value)}}}),e.$v.form.lastName.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.lastName.required?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.lastName.required")))]),e.$v.form.lastName.alpha?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.lastName.alpha")))]),e.$v.form.lastName.minLength?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.lastName.minLength",{minLength:e.$v.form.lastName.$params.minLength.min})))]),e.$v.form.lastName.maxLength?e._e():a("div",{staticClass:"error"},[e._v(e._s(e.$t("registerPage.form.lastName.maxLength",{maxLength:e.$v.form.lastName.$params.maxLength.max})))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.password.required?e._e():a("div",{staticClass:"error"},[e._v("패스워드를 입력해야합니다.")]),e.$v.form.password.minLength?e._e():a("div",{staticClass:"error"},[e._v("패스워드는 "+e._s(e.$v.form.password.$params.minLength.min)+"자 이상이어야합니다.")]),e.$v.form.password.maxLength?e._e():a("div",{staticClass:"error"},[e._v("패스워드는 "+e._s(e.$v.form.password.$params.maxLength.min)+"자 이하여야합니다.")])]):e._e()]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[e._v("Create account")]),e._m(1),e._m(2)])])]),e._m(3)])},Q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-wrapper"},[a("img",{staticClass:"logo",attrs:{src:"/images/logo.png"}}),a("div",{staticClass:"tagline"},[e._v("Open source task management tool")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"accept-terms text-muted"},[e._v("Create account를 클릭하면, "),a("a",{attrs:{href:"#"}},[e._v("서비스 약관")]),e._v(" 및 "),a("a",{attrs:{href:"#"}},[e._v("개인정보 보호정책")]),e._v("에 동의하는 것입니다.")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-center text-muted"},[e._v("계정이 있으시면 "),a("a",{attrs:{href:"/login"}},[e._v("로그인")]),e._v("하세요.")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",{staticClass:"copyright"},[e._v("© 2020 TaskAgile.com")]),a("ul",{staticClass:"footer-links list-inline float-right"},[a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("About")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("Terms of Service")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v("Privacy Policy")])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"https://github.com/inwoox/Vue-Spring-TaskManager",target:"_blank"}},[e._v("GitHub")])])])])}],F={register:function(e){return new Promise(function(t,a){b.a.post("/registrations",e).then(function(e){var a=e.data;t(a)}).catch(function(e){a(e)})})}},I={name:"RegisterPage",data:function(){return{form:{username:"",emailAddress:"",password:""},errorMessage:""}},validations:{form:{username:{required:h["required"],minLength:Object(h["minLength"])(2),maxLength:Object(h["maxLength"])(50),alphaNum:h["alphaNum"]},emailAddress:{required:h["required"],email:h["email"],maxLength:Object(h["maxLength"])(100)},firstName:{required:h["required"],minLength:Object(h["minLength"])(1),maxLength:Object(h["maxLength"])(45),alpha:h["alpha"]},lastName:{required:h["required"],minLength:Object(h["minLength"])(1),maxLength:Object(h["maxLength"])(45),alpha:h["alpha"]},password:{required:h["required"],minLength:Object(h["minLength"])(6),maxLength:Object(h["maxLength"])(30)}}},methods:{submitForm:function(){var e=this;this.$v.$touch(),this.$v.$invalid||F.register(this.form).then(function(){e.$router.push({name:"LoginPage"})}).catch(function(t){e.errorMessage="유저 등록에 실패하였습니다."+t.message})}}},H=I,D=(a("99ae"),Object(c["a"])(H,U,Q,!1,null,"0ed88158",null));D.options.__file="RegisterPage.vue";var z=D.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageHeader"),a("div",{staticClass:"boards-container"},[a("div",{staticClass:"boards-section"},[a("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("homePage.personalBoards")))]),a("div",{staticClass:"boards d-flex align-content-start flex-wrap"},[e._l(e.personalBoards,function(t){return a("div",{key:t.id,staticClass:"board list-inline-item",on:{click:function(a){e.openBoard(t)}}},[a("h3",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.description))])])}),a("div",{staticClass:"board add list-inline-item",on:{click:function(t){e.createBoard()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),a("div",[e._v(e._s(e.$t("homePage.createNewBoard")))])],1)],2)]),e._l(e.teamBoards,function(t){return a("div",{key:t.id,staticClass:"boards-section"},[a("h2",{staticClass:"section-title"},[e._v(e._s(t.name))]),a("div",{staticClass:"boards d-flex align-content-start flex-wrap"},[e._l(t.boards,function(t){return a("div",{key:t.id,staticClass:"board list-inline-item",on:{click:function(a){e.openBoard(t)}}},[a("h3",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.description))])])}),a("div",{staticClass:"board add list-inline-item",on:{click:function(a){e.createBoard(t)}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),a("div",[e._v(e._s(e.$t("homePage.createNewBoard")))])],1)],2)])}),a("div",{staticClass:"create-team-wrapper"},[a("button",{staticClass:"btn btn-link",on:{click:function(t){e.createTeam()}}},[e._v("+ "+e._s(e.$t("homePage.createNewTeam")))])])],2)],1)},G=[],Y=a("c93e"),K=(a("1157"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header d-flex align-content-center"},[a("div",{staticClass:"logo",on:{click:function(t){e.goHome()}}},[a("font-awesome-icon",{staticClass:"home-icon",attrs:{icon:"home"}}),a("img",{attrs:{src:"/images/logo.png"}})],1),a("div",{staticClass:"boards-menu-toggle"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"boardsMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.$t("header.boardsMenu.label"))+"\n      ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"boardsMenu"}},[e.hasBoards?e._e():a("div",{staticClass:"dropdown-item"},[e._v(e._s(e.$t("header.boardsMenu.noBoard")))]),e.hasBoards?a("div",[e.personalBoards?a("h6",{staticClass:"dropdown-header"},[e._v(e._s(e.$t("header.boardsMenu.personalBoards")))]):e._e(),e._l(e.personalBoards,function(t){return a("button",{key:t.id,staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){e.openBoard(t)}}},[e._v(e._s(t.name))])}),e._l(e.teamBoards,function(t){return a("div",{key:"t"+t.id},[a("h6",{staticClass:"dropdown-header"},[e._v(e._s(t.name))]),e._l(t.boards,function(t){return a("button",{key:t.id,staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){e.openBoard(t)}}},[e._v(e._s(t.name))])})],2)})],2):e._e()])])]),a("div",{staticClass:"search-box flex-fill"},[a("div",{staticClass:"search-wrapper"},[a("font-awesome-icon",{staticClass:"search-icon",attrs:{icon:"search"}}),a("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:e.$t("header.search")}})],1)]),a("div",{staticClass:"profile-menu-toggle"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"profileMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.user.name)+"\n      ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"profileMenu"}},[a("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[e._v(e._s(e.$t("header.profile")))]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[e._v(e._s(e.$t("header.signOut")))])])])])])}),V=[],W=a("2f62"),X={name:"PageHeader",computed:Object(Y["a"])({},Object(W["b"])(["user","hasBoards","personalBoards","teamBoards"])),created:function(){console.log("created"),this.$store.dispatch("getMyData")},methods:{goHome:function(){this.$router.push({name:"home"}),console.log("gohome")},openBoard:function(e){this.$router.push({name:"board",params:{boardId:e.id}})}}},Z=X,ee=(a("b0a0"),Object(c["a"])(Z,K,V,!1,null,"02c2b0ac",null));ee.options.__file="PageHeader.vue";var te=ee.exports,ae={name:"HomePage",data:function(){return{selectedTeamId:0}},computed:Object(Y["a"])({},Object(W["b"])(["personalBoards","teamBoards"])),components:{PageHeader:te},methods:{openBoard:function(e){this.$router.push({name:"board",params:{boardId:e.id}})},onBoardCreated:function(e){this.$router.push({name:"board",params:{boardId:e}})}}},re=ae,se=(a("b378"),Object(c["a"])(re,J,G,!1,null,"4c6b3537",null));se.options.__file="HomePage.vue";var ne=se.exports;n["a"].use(f["a"]);var oe=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ne},{path:"/login",name:"LoginPage",component:M},{path:"/register",name:"RegisterPage",component:z}]}),ie=(a("7f7f"),a("ac6a"),function(e){return e.user}),le=function(e){return e.boards.length>0},ue=function(e){return e.boards.filter(function(e){return 0===e.teamId})},ce=function(e){var t=[];return e.teams.forEach(function(a){t.push({id:a.id,name:a.name,boards:e.boards.filter(function(e){return e.teamId===a.id})})}),t},me=new n["a"]({}),de=me,fe={getMyData:function(){return new Promise(function(e,t){b.a.get("/me").then(function(t){var a=t.data;e(a),de.$emit("myDataFetched",a)}).catch(function(e){t(w.parse(e))})})},signOut:function(){return new Promise(function(e,t){b.a.post("/me/logout").then(function(t){var a=t.data;e(a)}).catch(function(e){t(w.parse(e))})})}},ve=function(e){var t=e.commit;fe.getMyData().then(function(e){t("updateMyData",e)})},ge=function(e,t){var a=e.commit;a("addTeam",t)},he=function(e,t){var a=e.commit;a("addBoard",t)},pe={updateMyData:function(e,t){console.log(t.user.name),e.user.name=t.user.name,e.teams=t.teams,e.boards=t.boards,console.log(e.user.name)},addTeam:function(e,t){e.teams.push(t)},addBoard:function(e,t){e.boards.push(t)}};n["a"].use(W["a"]);var be={user:{name:null},teams:[],boards:[]},_e=new W["a"].Store({state:be,getters:r,actions:s,mutations:pe}),Ce=a("1dce"),we=a.n(Ce),$e=a("ecee"),ye=a("c074"),Pe=a("ad3d"),xe=a("a925"),Le=a("ab72"),ke=a("7215"),qe=Le,Ne=ke;n["a"].use(xe["a"]);var Oe=new xe["a"]({locale:"en_US",messages:{en_US:qe,kr_KR:Ne}}),Be=(a("456d"),a("c665")),Re=a("aa9a"),Te=a("cc7d"),Ee=a.n(Te),Se=function(){function e(){Object(Be["a"])(this,e),this.serverUrl=null,this.token=null,this.socket=null,this.authenticated=!1,this.loggedOut=!1,this.$bus=new n["a"],this.subscribeQueue={},this.unsubscribeQueue={}}return Object(Re["a"])(e,[{key:"init",value:function(e,t){this.authenticated?console.warn("[RealTimeClient] WS connection already authenticated."):(console.log("[RealTimeClient] Initializing"),this.serverUrl=e,this.token=t,this.connect())}},{key:"connect",value:function(){var e=this;console.log("[RealTimeClient] Connecting to "+this.serverUrl),this.socket=new Ee.a(this.serverUrl+"?token="+this.token),this.socket.onopen=function(){e.authenticated=!0,e._onConnected()},this.socket.onmessage=function(t){e._onMessageReceived(t)},this.socket.onerror=function(t){e._onSocketError(t)},this.socket.onclose=function(t){e._onClosed(t)}}},{key:"_onConnected",value:function(){de.$emit("RealTimeClient.connected"),console.log("[RealTimeClient] Connected"),this._processQueues()}},{key:"subscribe",value:function(e,t){if(this._isConnected()){var a={action:"subscribe",channel:e};this._send(a),this.$bus.$on(this._channelEvent(e),t),console.log("[RealTimeClient] Subscribed to channel "+e)}else this._addToSubscribeQueue(e,t)}},{key:"unsubscribe",value:function(e,t){if(!this.loggedOut)if(this._isConnected()){var a={action:"unsubscribe",channel:e};this._send(a),this.$bus.$off(this._channelEvent(e),t),console.log("[RealTimeClient] Unsubscribed from channel "+e)}else this._addToUnsubscribeQueue(e,t)}},{key:"_isConnected",value:function(){return this.socket&&this.socket.readyState===Ee.a.OPEN}},{key:"_onMessageReceived",value:function(e){var t=JSON.parse(e.data);console.log("[RealTimeClient] Received message",t),t.channel&&this.$bus.$emit(this._channelEvent(t.channel),JSON.parse(t.payload))}},{key:"_channelEvent",value:function(e){return"channel:"+e}},{key:"_send",value:function(e){this.socket.send(JSON.stringify(e))}},{key:"_onSocketError",value:function(e){console.error("[RealTimeClient] Socket error",e)}},{key:"_onClosed",value:function(e){var t=this;console.log("[RealTimeClient] Received close event",e),this.loggedOut?(console.log("[RealTimeClient] Logged out"),de.$emit("RealTimeClient.loggedOut")):(console.log("[RealTimeClient] Disconnected"),de.$emit("RealTimeClient.disconnected"),setTimeout(function(){console.log("[RealTimeClient] Reconnecting"),de.$emit("RealTimeClient.reconnecting"),t.connect()},1e3))}},{key:"logout",value:function(){console.log("[RealTimeClient] Logging out"),this.subscribeQueue={},this.unsubscribeQueue={},this.authenticated=!1,this.loggedOut=!0,this.socket&&this.socket.close()}},{key:"_processQueues",value:function(){var e=this;console.log("[RealTimeClient] Processing subscribe/unsubscribe queues");var t=Object.keys(this.subscribeQueue);t.forEach(function(t){var a=e.subscribeQueue[t];a.forEach(function(a){e.subscribe(t,a),e._removeFromQueue(e.subscribeQueue,t,a)})});var a=Object.keys(this.unsubscribeQueue);a.forEach(function(t){var a=e.unsubscribeQueue[t];a.forEach(function(a){e.unsubscribe(t,a),e._removeFromQueue(e.unsubscribeQueue,t,a)})})}},{key:"_addToSubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel subscribe to queue. Channel: "+e),this._removeFromQueue(this.unsubscribeQueue,e,t);var a=this.subscribeQueue[e];a?a.push(t):this.subscribeQueue[e]=[t]}},{key:"_addToUnsubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel unsubscribe to queue. Channel: "+e),this._removeFromQueue(this.subscribeQueue,e,t);var a=this.unsubscribeQueue[e];a?a.push(a):this.unsubscribeQueue[e]=[t]}},{key:"_removeFromQueue",value:function(e,t,a){var r=e[t];if(r){var s=r.indexOf(a);s>-1&&r.splice(s,1)}}}]),e}(),je=new Se;b.a.defaults.baseURL="/api",b.a.defaults.headers.common.Accept="application/json",b.a.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),n["a"].use(we.a),$e["c"].add(ye["a"],ye["c"],ye["b"]),n["a"].component("font-awesome-icon",Pe["a"]),n["a"].config.productionTip=!1,n["a"].prototype.$bus=de,n["a"].prototype.$rt=je,new n["a"]({router:oe,store:_e,i18n:Oe,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("2856"),s=a.n(r);s.a},6407:function(e,t,a){},7215:function(e){e.exports={logo:{tagLine:"Open source task management tool"},header:{boardsMenu:{label:"Boards",noBoard:"No board",personalBoards:"Personal Boards"},search:"Search",profile:"Profile",signOut:"Sign Out"},loginPage:{form:{username:{label:"Username or email address",required:"Username or email address is required"},password:{label:"Password",required:"Password is required"},submit:"Sign in",noAccountYet:"Don't have an account yet?",signUpHere:"Sign up here",forgotPassword:"Forgot your password?"}},registerPage:{form:{username:{label:"Username",requred:"Username is required",alphaNum:"Username can only contain letters and numbers",minLength:"Username must have at least {minLength} letters.",maxLength:"Username is too long. It can contains maximium {maxLength} letters."},emailAddress:{label:"Email address",required:"Email address is required",email:"This is not a valid email address",maxLength:"Email address is too long. It can contains maximium {maxLength} letters."},password:{label:"Password",required:"Password is required",minLength:"Password is too short. It can contains at least {minLength} letters.",maxLength:"Password is too long. It can contains maximium {maxLength} letters."},submit:"Create account",terms:{accept:"By clicking “Create account”, you agree to our {termsOfService} and {privacyPolicy}.",termsOfService:"terms of service",privacyPolicy:"privacy policy"},alreadyHaveAccount:"Already have an account?",signIn:"Sign in"}},homePage:{personalBoards:"Personal Boards",createNewBoard:"Create New Board",createNewTeam:"Create New Team"},pageFooter:{about:"About",termOfService:"Terms of Service",privacyPolicy:"Privacy Policy"},error:{request:{bad:"Bad request",notAuthorized:"Request not authorized.",forbidden:"Request forbidden.",notFound:"Request failed. Request endpoint not found on the server.",unknownServerError:"There is an error on the server side. Please try again later.",failed:"Request failed. Please try again later.",noResponse:"Request failed. No response from the server."}}}},"99ae":function(e,t,a){"use strict";var r=a("5497"),s=a.n(r);s.a},a4fa:function(e,t,a){"use strict";var r=a("52a8"),s=a.n(r);s.a},ab72:function(e){e.exports={logo:{tagLine:"Open source task management tool"},header:{boardsMenu:{label:"Boards",noBoard:"No board",personalBoards:"Personal Boards"},search:"Search",profile:"Profile",signOut:"Sign Out"},loginPage:{form:{username:{label:"Username or email address",required:"Username or email address is required"},password:{label:"Password",required:"Password is required"},submit:"Sign in",noAccountYet:"Don't have an account yet?",signUpHere:"Sign up here",forgotPassword:"Forgot your password?"}},registerPage:{form:{username:{label:"Username",required:"Username is required",alphaNum:"Username can only contain letters and numbers",minLength:"Username must have at least {minLength} letters.",maxLength:"Username is too long. It can contains maximum {maxLength} letters."},emailAddress:{label:"Email address",required:"Email address is required",email:"This is not a valid email address",maxLength:"Email address is too long. It can contains maximum {maxLength} letters."},firstName:{label:"First name",required:"First name is required",alpha:"First name can only contain letters",minLength:"First name must have at least {minLength} letters.",maxLength:"First name is too long. It can contains maximum {maxLength} letters."},lastName:{label:"Last name",required:"Last name is required",alpha:"Last name can only contain letters",minLength:"Last name must have at least {minLength} letters.",maxLength:"Last name is too long. It can contains maximum {maxLength} letters."},password:{label:"Password",required:"Password is required",minLength:"Password is too short. It can contains at least {minLength} letters.",maxLength:"Password is too long. It can contains maximum {maxLength} letters."},submit:"Create account",terms:{accept:"By clicking “Create account”, you agree to our {termsOfService} and {privacyPolicy}.",termsOfService:"terms of service",privacyPolicy:"privacy policy"},alreadyHaveAccount:"Already have an account?",signIn:"Sign in"}},homePage:{personalBoards:"Personal Boards",createNewBoard:"Create New Board",createNewTeam:"Create New Team"},pageFooter:{about:"About",termOfService:"Terms of Service",privacyPolicy:"Privacy Policy"},error:{request:{bad:"Bad request",notAuthorized:"Request not authorized.",forbidden:"Request forbidden.",notFound:"Request failed. Request endpoint not found on the server.",unknownServerError:"There is an error on the server side. Please try again later.",failed:"Request failed. Please try again later.",noResponse:"Request failed. No response from the server."}}}},af96:function(e,t,a){},b0a0:function(e,t,a){"use strict";var r=a("47bf"),s=a.n(r);s.a},b378:function(e,t,a){"use strict";var r=a("af96"),s=a.n(r);s.a},c34e:function(e,t,a){"use strict";var r=a("ff9b"),s=a.n(r);s.a},d7c7:function(e,t,a){"use strict";var r=a("6407"),s=a.n(r);s.a},ff9b:function(e,t,a){}});
//# sourceMappingURL=app.239d1166.js.map